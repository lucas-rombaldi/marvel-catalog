(this["webpackJsonpmarvel-catalog"]=this["webpackJsonpmarvel-catalog"]||[]).push([[0],{108:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},241:function(e,a,t){e.exports=t.p+"static/media/thanos.972da349.png"},245:function(e,a,t){e.exports=t.p+"static/media/marvel-logo.44b2fa2f.png"},262:function(e,a,t){e.exports=t(505)},338:function(e,a){},340:function(e,a){},372:function(e,a){},373:function(e,a){},438:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},459:function(e,a,t){},460:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},461:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},462:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},500:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},501:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},502:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},503:function(e,a,t){e.exports={primaryColor:"#1976d2",secondaryColor:"#e62429"}},504:function(e,a,t){},505:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"initializeTour",(function(){return F})),t.d(r,"closeTour",(function(){return x}));var n={};t.r(n),t.d(n,"fetchAllCharactersAction",(function(){return W})),t.d(n,"receiveAllCharactersAction",(function(){return U})),t.d(n,"fetchCharacterAction",(function(){return J})),t.d(n,"receiveCharacterAction",(function(){return K})),t.d(n,"errorAction",(function(){return Y})),t.d(n,"setFilter",(function(){return G})),t.d(n,"setDialogVisibleAction",(function(){return q})),t.d(n,"setDialogVisible",(function(){return z})),t.d(n,"fetchAllCharacters",(function(){return X})),t.d(n,"fetchCharacter",(function(){return Z})),t.d(n,"resetCharactersAction",(function(){return $})),t.d(n,"resetCharacters",(function(){return Q})),t.d(n,"enableToolbarFilterAction",(function(){return ee})),t.d(n,"enableToolbarFilter",(function(){return ae})),t.d(n,"disableToolbarFilterAction",(function(){return te})),t.d(n,"disableToolbarFilter",(function(){return re})),t.d(n,"fetchSeriesByCharacterAction",(function(){return ne})),t.d(n,"receiveSeriesByCharacterAction",(function(){return ce})),t.d(n,"fetchSeriesByCharacter",(function(){return oe}));var c=t(0),o=t.n(c),i=t(14),s=t(28),l=t(248),u=t(550);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=t(12),h=t(231),m=t(556),d=t(21),f={characters:null,character:null,hasMore:!0,isLoading:!1,dialogVisible:!1,warning:null,error:null};function v(e){var a=e.total,t=e.count;return e.offset+t<a}var E={isTourOpen:!0};var b=Object(p.c)({marvel:function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR":return e=Object(d.a)({},a,{error:t.errorMessage});case"FETCH_ALL_CHARACTERS":return e=Object(d.a)({},a,{isLoading:!0,isChangingFilter:!1,warning:null});case"RECEIVE_ALL_CHARACTERS":var r=t.payload.data.results;a.characters&&a.characters.some((function(e){return e}))&&(r=a.characters.concat(r)),e=Object(d.a)({},a,{characters:r.sort((function(e,a){return e.name<a.name?-1:e.name>a.name?1:0})),hasMore:v(t.payload.data),isLoading:!1,isChangingFilter:!1,warning:r&&0===r.length?"No hero found! Try searching again...":null});for(var n=0;n<e.characters.length;n++){var c=e.characters[n],o=localStorage.getItem("marvel-catalog.character.".concat(c.id));if(o){var i=e.characters[n];e.characters[n]=JSON.parse(o),e.characters[n].series=i.series}}return e;case"FETCH_CHARACTER":return Object(d.a)({},a,{character:{isLoadingSeries:!0},isLoading:!0,isChangingFilter:!1,warning:null});case"RECEIVE_CHARACTER":return(e=Object(d.a)({},a,{character:t.character.data.results[0],isLoading:!1,isChangingFilter:!1})).character.isLoadingSeries=!0,e.character.series=null,e;case"FETCH_SERIES_BY_CHARACTER":return Object(d.a)({},a,{character:Object(d.a)({},a.character,{isLoadingSeries:!0})});case"RECEIVE_SERIES_BY_CHARACTER":if("200"!==t.payload.code&&200!==t.payload.code)return e=Object(d.a)({},a,{warning:"Sorry! There was an error retrieving the series (".concat(t.payload.status,")")});var s=t.payload.data.results;return a.character&&a.character.series&&a.character.series.some((function(e){return e}))&&(s=a.character.series.concat(s)),e=Object(d.a)({},a,{character:Object(d.a)({},a.character,{series:s,hasMore:v(t.payload.data),seriesPage:t.page,isLoadingSeries:!1}),error:null});case"RESET_CHARACTERS":return Object(d.a)({},a,{characters:null,hasMore:!0});case"SET_DIALOG_VISIBLE":return Object(d.a)({},a,{dialogVisible:t.visible});case"ENABLE_FILTER":return Object(d.a)({},a,{enableFilter:!0});case"DISABLE_FILTER":return Object(d.a)({},a,{enableFilter:!1});case"SET_FILTER":return Object(d.a)({},a,{characters:null,filter:t.filter,isChangingFilter:!0,hasMore:!0});default:return a}},tour:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INITIALIZE_TOUR":return Object(d.a)({},e,{isTourOpen:a.isTourOpen});case"CLOSE_TOUR":return Object(d.a)({},e,{isTourOpen:!1});default:return e}},form:m.a}),g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d;var _=t(63),C=t(20),y=t(16),O=t(17),S=t(23),T=t(24),A=t(233),j=t.n(A),R={Name:"CharacterList",Steps:[{content:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Welcome to the Marvel Catalog!"),o.a.createElement("p",null,"Here, you're going to find all the marvel characters, beyond exploring their details and customizing them!"),o.a.createElement("p",null,"Enjoy!"))}},{selector:".topbar__search--input-inner",content:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Here, you can search for a specific character!"),o.a.createElement("p",null,"Just type and wait for the results to be refreshed!"))}},{selector:".char-card__root",content:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Here, you have a character card, where you can see a little summary about him!"),o.a.createElement("p",null,"You may want to click it to get his details page..."))}}]},N=t(247),I=t(37),L=t.n(I),w=t(64);function F(){return function(){var e=Object(w.a)(L.a.mark((function e(a){var t,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,(r=JSON.parse(localStorage.getItem("marvel-catalog.exploredTours")))&&r.includes(window.location.pathname)&&(t=!1),a({type:"INITIALIZE_TOUR",isTourOpen:t});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}function x(){return function(){var e=Object(w.a)(L.a.mark((function e(a){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"CLOSE_TOUR"}),localStorage.setItem("marvel-catalog.exploredTours",JSON.stringify([window.location.pathname]));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}var k=t(155),D=t.n(k),H=t(239),P=t.n(H),B="https://gateway.marvel.com:443",M=function(){function e(){Object(y.a)(this,e)}return Object(O.a)(e,null,[{key:"getCharacters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={page:0,count:15,nameStartsWith:""},t=Object.assign(a,e),r="/v1/public/characters",n=1===t.page?0:t.count*(t.page-1),c="".concat(this.getBaseParams(),"&limit=").concat(t.count,"&offset=").concat(n);t.nameStartsWith&&(c=c.concat("&nameStartsWith=".concat(t.nameStartsWith)));var o="".concat(B).concat(r).concat(c);return fetch(o)}},{key:"fetchSeriesByCharacter",value:function(e,a){var t=1===a?0:10*(a-1),r="/v1/public/characters/".concat(e,"/series"),n="".concat(this.getBaseParams(),"&limit=").concat(10,"&offset=").concat(t),c="".concat(B).concat(r).concat(n);return fetch(c)}},{key:"getCharacterById",value:function(e){var a="/v1/public/characters/".concat(e),t="".concat(B).concat(a).concat(this.getBaseParams());return fetch(t)}},{key:"getBaseParams",value:function(){var e=P()().unix(),a=Object({NODE_ENV:"production",PUBLIC_URL:"/marvel-catalog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MARVEL_API_PUBLIC_KEY,t=Object({NODE_ENV:"production",PUBLIC_URL:"/marvel-catalog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MARVEL_API_PRIVATE_KEY,r=D.a.MD5(e+t+a).toString(D.a.enc.Hex);return"?apikey=".concat(a,"&ts=").concat(e,"&hash=").concat(r)}}]),e}(),V={localCharacterStoragePrefix:"marvel-catalog.character."},W=function(){return{type:"FETCH_ALL_CHARACTERS"}},U=function(e){return{type:"RECEIVE_ALL_CHARACTERS",payload:e}},J=function(){return{type:"FETCH_CHARACTER"}},K=function(e){return{type:"RECEIVE_CHARACTER",character:e}},Y=function(e){return{type:"ERROR",errorMessage:e}};function G(e){return function(a){return a({type:"SET_FILTER",filter:e})}}var q=function(e){return{type:"SET_DIALOG_VISIBLE",visible:e}};function z(e){return function(a){return a(q(e))}}function X(e,a){return function(){var t=Object(w.a)(L.a.mark((function t(r){var n,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(W()),t.prev=1,t.next=4,M.getCharacters({page:e,nameStartsWith:a});case 4:return n=t.sent,t.next=7,n.json();case 7:return c=t.sent,t.abrupt("return",r(U(c)));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",r(Y("Sorry! There was a problem fetching the characters (".concat(t.t0,")"))));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}function Z(e){return function(){var a=Object(w.a)(L.a.mark((function a(t){var r,n,c,o;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t(J()),r=localStorage.getItem("".concat(V.localCharacterStoragePrefix).concat(e)),a.prev=2,!r){a.next=8;break}return n={data:{results:[JSON.parse(r)]}},a.abrupt("return",t(K(n)));case 8:return a.next=10,M.getCharacterById(e);case 10:return c=a.sent,a.next=13,c.json();case 13:return o=a.sent,a.abrupt("return",t(K(o)));case 15:a.next=20;break;case 17:return a.prev=17,a.t0=a.catch(2),a.abrupt("return",t(Y("Sorry! There was a problem fetching the character (".concat(a.t0,")"))));case 20:case"end":return a.stop()}}),a,null,[[2,17]])})));return function(e){return a.apply(this,arguments)}}()}var $=function(){return{type:"RESET_CHARACTERS"}};function Q(){return function(e){return e($())}}var ee=function(){return{type:"ENABLE_FILTER"}};function ae(){return function(e){return e(ee())}}var te=function(){return{type:"DISABLE_FILTER"}};function re(){return function(e){return e(te())}}var ne=function(){return{type:"FETCH_SERIES_BY_CHARACTER"}},ce=function(e,a){return{type:"RECEIVE_SERIES_BY_CHARACTER",payload:e,page:a}};function oe(e,a){return function(){var t=Object(w.a)(L.a.mark((function t(r){var n,c;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(ne()),t.next=3,M.fetchSeriesByCharacter(e,a);case 3:return n=t.sent,t.next=6,n.json();case 6:return c=t.sent,t.abrupt("return",r(ce(c,a)));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var ie=t(73),se=t.n(ie),le={class:"char-card"},ue=(t(438),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){return Object(y.a)(this,t),a.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var e=this.props.character,a="".concat(e.thumbnail.path,"/standard_fantastic.").concat(this.props.character.thumbnail.extension);return o.a.createElement(_.b,{to:"/".concat(e.id),"data-testid":"char-card"},o.a.createElement("div",{className:"".concat(le.class,"__root")},o.a.createElement("div",{className:"".concat(le.class,"__card")},o.a.createElement("div",{className:"".concat(le.class,"__image"),style:{backgroundImage:"url(".concat(a,")")}}),o.a.createElement("div",{className:"".concat(le.class,"__title"),"data-testid":"char-card-name"},e.name),o.a.createElement("div",{className:se()("".concat(le.class,"__card-units"),"clearfix")},o.a.createElement("div",{className:"".concat(le.class,"__card-units--unit")},o.a.createElement("div",{className:"".concat(le.class,"__card-units--unit-value")},e.series.available),o.a.createElement("div",{className:"".concat(le.class,"__card-units--unit-name")},"Series")),o.a.createElement("div",{className:se()("".concat(le.class,"__card-units--unit"),"no-border-right")},o.a.createElement("div",{className:"".concat(le.class,"__card-units--unit-value")},e.comics.available),o.a.createElement("div",{className:"".concat(le.class,"__card-units--unit-name")},"Comics"))))))}}]),t}(o.a.Component)),pe=t(240),he=t.n(pe),me=t(108),de=t.n(me),fe=function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){return Object(y.a)(this,t),a.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var e=this.props,a=e.type,t=e.visible;return o.a.createElement(he.a,{type:a||"ThreeDots",color:de.a.secondaryColor,height:70,width:70,visible:t})}}]),t}(o.a.Component),ve=t(506),Ee=t(241),be=t.n(Ee),ge={class:"error-screen"},_e=(t(459),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){return Object(y.a)(this,t),a.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var e=this.props.message;return o.a.createElement("div",{className:"".concat(ge.class,"__root"),"data-testid":"error-page"},o.a.createElement("img",{className:"".concat(ge.class,"__image"),src:be.a,alt:e}),o.a.createElement(ve.a,{type:"subheading",variant:"h6",color:"inherit"},e))}}]),t}(o.a.Component)),Ce={class:"char-list"},ye=(t(460),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).renderCharacters=function(){return e.props.loading||!e.props.characters||0===e.props.characters.length?null:e.props.characters.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(ue,{character:e}))}))},e}return Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.appActions,a=e.enableToolbarFilter,t=e.resetCharacters;a(),t()}},{key:"render",value:function(){var e=this,a=this.props,t=a.hasMore,r=a.appActions,n=a.warning,c=a.error,i=a.isLoading,s=r.fetchAllCharacters;return c||n?o.a.createElement(_e,{message:c||n}):o.a.createElement(j.a,{"data-testid":"infinite-scroller",loadMore:function(a){return s(e.props.isChangingFilter?1:a,e.props.filter)},hasMore:t,loader:o.a.createElement("div",{className:"".concat(Ce.class,"__loader"),key:"loader","data-testid":"loader"},o.a.createElement(fe,{visible:i}))},o.a.createElement("div",{className:"".concat(Ce.class,"__cards-container")},this.renderCharacters()))}}]),t}(o.a.Component));var Oe=function(e,a){var t=function(t){Object(T.a)(n,t);var r=Object(S.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,t=new Array(a),c=0;c<a;c++)t[c]=arguments[c];return(e=r.call.apply(r,[this].concat(t)))._onRequestClose=function(){e.props.tourActions.closeTour()},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.tourActions.initializeTour()}},{key:"render",value:function(){var t=this.props.isTourOpen;return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(N.a,{steps:a.Steps,isOpen:t,onRequestClose:this._onRequestClose}),o.a.createElement(e,this.props))}}]),n}(c.Component);return Object(s.b)((function(e){return{isTourOpen:e.tour.isTourOpen}}),(function(e){return{tourActions:Object(p.b)(r,e)}}))(t)}(Object(s.b)((function(e){return{characters:e.marvel.isChangingFilter?null:e.marvel.characters,hasMore:e.marvel.hasMore,isLoading:e.marvel.isLoading,filter:e.marvel.filter,isChangingFilter:e.marvel.isChangingFilter,warning:e.marvel.warning,error:e.marvel.error}}),(function(e){return{appActions:Object(p.b)(n,e)}}))(ye),R),Se=t(554),Te=t(243),Ae=t.n(Te),je=t(242),Re=t.n(je),Ne={class:"inner-toolbar"},Ie=(t(461),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).renderActions=function(){var a=e.props.renderActions;return a?o.a.createElement("div",{className:"".concat(Ne.class,"__actions")},a()):null},e.renderInfo=function(){var a=e.props,t=a.backRoute,r=a.title;return o.a.createElement("div",{className:"".concat(Ne.class,"__info")},t&&o.a.createElement(_.b,{to:t},o.a.createElement(Re.a,null)),o.a.createElement(ve.a,{variant:"h5"},o.a.createElement("span",{className:"".concat(Ne.class,"__title")},r)))},e}return Object(O.a)(t,[{key:"_renderInnerToolbar",value:function(){return o.a.createElement("div",{className:"".concat(Ne.class,"__root")},this.renderInfo(),this.renderActions())}},{key:"_renderContent",value:function(){return o.a.createElement("div",{className:"".concat(Ne.class,"__content")},this.props.children)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this._renderInnerToolbar(),this._renderContent())}}]),t}(o.a.Component)),Le=Object(C.f)(Ie),we=t(249),Fe=t(553),xe=t(552),ke=t(551),De=t(557),He=t(545),Pe=t(547),Be=t(546),Me={class:"char-dialog"},Ve=(t(462),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).renderTextField=function(e){var a=e.input,t=e.label,r=e.meta,n=r.touched,c=r.error,i=Object(we.a)(e,["input","label","meta"]),s=Boolean(n&&c);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ke.a,Object.assign({error:s},a,i,{label:t,fullWidth:!0,margin:"dense",variant:"outlined"})),s&&o.a.createElement("p",{className:"".concat(Me.class,"__error-text")},c))},e.onSubmit=function(a){var t=e.props,r=t.character,n=t.handleConfirm;localStorage.setItem("".concat(V.localCharacterStoragePrefix).concat(r.id),JSON.stringify(a)),n()},e}return Object(O.a)(t,[{key:"render",value:function(){var e,a=this.props.character;return a&&a.thumbnail&&(e="".concat(a.thumbnail.path,"/standard_fantastic.").concat(this.props.character.thumbnail.extension)),o.a.createElement(De.a,{open:this.props.visible,onClose:this.props.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit)},o.a.createElement(He.a,{id:"form-dialog-title"},"Character Edition"),o.a.createElement(Be.a,{className:"".concat(Me.class,"__content")},o.a.createElement("div",{className:"".concat(Me.class,"__row")},o.a.createElement("img",{src:e,alt:a.name,className:"".concat(Me.class,"__image")})),o.a.createElement(Fe.a,{name:"name",component:this.renderTextField,label:"Name",autoFocus:!0}),o.a.createElement(Fe.a,{name:"description",component:this.renderTextField,label:"Description",multiline:!0,rows:6})),o.a.createElement("div",{className:"".concat(Me.class,"__actions")},o.a.createElement(Pe.a,null,o.a.createElement(Se.a,{onClick:this.props.handleClose},"Cancel"),o.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary"},"Confirm")))))}}]),t}(o.a.Component));var We=Object(s.b)((function(e,a){return{initialValues:Object(d.a)({},a.character)}}))(Object(xe.a)({form:"characterForm",validate:function(e){var a={};return["name"].forEach((function(t){e[t]||(a[t]="Required")})),a},enableReinitialize:!0})(Ve)),Ue={class:"serie-card"},Je=(t(500),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){return Object(y.a)(this,t),a.apply(this,arguments)}return Object(O.a)(t,[{key:"render",value:function(){var e=this.props.serie,a="".concat(e.thumbnail.path,"/standard_fantastic.").concat(e.thumbnail.extension),t=e.urls.find((function(e){return"detail"===e.type})).url;return o.a.createElement("a",{href:t},o.a.createElement("div",{className:"".concat(Ue.class,"__root")},o.a.createElement("div",{className:"".concat(Ue.class,"__image"),style:{backgroundImage:"url(".concat(a,")")}}),o.a.createElement("div",{className:"".concat(Ue.class,"__info")},o.a.createElement(ve.a,{variant:"button",display:"block"},o.a.createElement("strong",null,e.title)),o.a.createElement("div",{className:"".concat(Ue.class,"__info--description")},o.a.createElement(ve.a,{variant:"caption",display:"block"},e.description)))))}}]),t}(o.a.Component)),Ke={class:"char-details"},Ye=(t(501),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){var e;Object(y.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).loadModel=function(a){e.props.appActions.fetchCharacter(a),e.loadSeries(1)},e.showDialog=function(){e.props.appActions.setDialogVisible(!0)},e.handleCloseDialog=function(){e.props.appActions.setDialogVisible(!1)},e.loadSeries=function(a){e.props.appActions.fetchSeriesByCharacter(e.id,a)},e.handleConfirmDialog=function(){e.props.appActions.setDialogVisible(!1),e.loadModel(e.id)},e.renderSeriesGrid=function(){var a=e.props.character;return a.series&&a.series.length>0?o.a.createElement("div",{className:"".concat(Ke.class,"__series-grid")},e.props.character.series.map((function(e){return o.a.createElement(Je,{serie:e,key:e.id})}))):o.a.createElement(ve.a,{variant:"button"},"Unfortunately, no serie has been done so far!")},e.renderLoadMoreSeriesButton=function(){var a=e.props,t=a.character,r=a.seriesPage;return t.hasMore?o.a.createElement(Se.a,{variant:"contained",color:"primary",className:"backgroundColor--primary",onClick:function(){return e.loadSeries(r+1)}},"Load More..."):null},e.renderSeriesTitle=function(){return o.a.createElement("div",{className:"".concat(Ke.class,"__series-title")},o.a.createElement(ve.a,{variant:"h6",align:"left"},o.a.createElement("span",{style:{marginLeft:"10px"}},"Series")))},e.renderSeries=function(){var a=e.props,t=a.character,r=a.isLoadingSeries;return o.a.createElement("section",{className:"".concat(Ke.class,"__series-root")},e.renderSeriesTitle(),t.series&&o.a.createElement(o.a.Fragment,null,e.renderSeriesGrid(),!r&&e.renderLoadMoreSeriesButton()),r&&o.a.createElement(fe,{visible:!0}))},e.renderToolbarActions=function(){return o.a.createElement(Se.a,{variant:"contained",color:"primary",onClick:e.showDialog,endIcon:o.a.createElement(Ae.a,null)},"Edit")},e.renderProfile=function(){var a=e.props.character,t="".concat(a.thumbnail.path,"/standard_fantastic.").concat(e.props.character.thumbnail.extension);return o.a.createElement("div",{className:"".concat(Ke.class,"__profile")},o.a.createElement("img",{src:t,alt:a.name,className:"".concat(Ke.class,"__image")}),o.a.createElement("div",{className:"".concat(Ke.class,"__description")},o.a.createElement(ve.a,{variant:"h5",display:"block"},a.name),o.a.createElement(ve.a,{variant:"overline",display:"block"},a.description.length>0?a.description:"NO DESCRIPTION FOR THIS HERO! CAN YOU TELL US SOMETHING ABOUT HIM/HER?")))},e.renderDialog=function(){return o.a.createElement(We,{visible:e.props.dialogVisible,handleClose:e.handleCloseDialog,character:e.props.character,handleConfirm:e.handleConfirmDialog})},e.renderPage=function(){var a=e.props,t=a.character,r=a.error,n=a.warning;return r||n?o.a.createElement(_e,{message:r||n}):o.a.createElement(Le,{backRoute:"/",title:t.name,renderActions:e.renderToolbarActions},o.a.createElement(o.a.Fragment,null,e.renderProfile(),e.renderSeries()))},e}return Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.appActions.disableToolbarFilter(),this.loadModel(this.id)}},{key:"render",value:function(){var e=this.props.character;return this.props.error?o.a.createElement(_e,{message:this.props.error}):e&&e.name?o.a.createElement(o.a.Fragment,null,this.renderDialog(),this.renderPage()):o.a.createElement(fe,{visible:!0})}},{key:"id",get:function(){return this.props.match.params.id}}]),t}(o.a.Component));var Ge=Object(C.f)(Object(s.b)((function(e){return{character:e.marvel.character,isLoadingSeries:e.marvel.character&&e.marvel.character.isLoadingSeries,error:e.marvel.error,warning:e.marvel.warning,seriesPage:e.marvel.character?e.marvel.character.seriesPage:this.currentSeriesPage,dialogVisible:e.marvel.dialogVisible}}),(function(e){return{appActions:Object(p.b)(n,e)}}))(Ye)),qe=t(244),ze=t.n(qe),Xe=t(548),Ze=t(246),$e=t.n(Ze),Qe=t(549),ea={class:"topbar"},aa=t(245),ta=t.n(aa),ra=(t(502),function(e){Object(T.a)(t,e);var a=Object(S.a)(t);function t(){var e;return Object(y.a)(this,t),(e=a.call(this)).handleFilterChangeDebounce=ze.a.debounce((function(){e.appliedFilter!==e.state.searchText&&(e.appliedFilter=e.state.searchText,e.props.appActions.setFilter(e.state.searchText))}),800),e.handleFilterChange=function(a){e.setState({searchText:a.target.value}),e.handleFilterChangeDebounce()},e.renderSearch=function(){return e.props.enableFilter?o.a.createElement("div",{className:"".concat(ea.class,"__search"),"data-testid":"search-container"},o.a.createElement("div",{className:"".concat(ea.class,"__search--image")},o.a.createElement($e.a,null)),o.a.createElement("div",{className:"".concat(ea.class,"__search--input")},o.a.createElement("input",{name:"search",value:e.state.searchText,type:"text",className:"".concat(ea.class,"__search--input-inner"),placeholder:"Search...",autoComplete:"off",onChange:e.handleFilterChange}))):null},e.renderAppTitle=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{className:"".concat(ea.class,"__logo"),src:ta.a,height:32,alt:"Marvel Catalog"}),o.a.createElement(ve.a,{type:"subheading",variant:"h6",color:"inherit",className:"".concat(ea.class,"__title")},"Marvel Catalog"))},e.state={searchText:""},e.appliedFilter=null,e}return Object(O.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"".concat(ea.class,"__root")},o.a.createElement(Xe.a,{position:"fixed"},o.a.createElement(Qe.a,null,this.renderAppTitle(),this.renderSearch())))}}]),t}(o.a.Component));var na=Object(s.b)((function(e){return{enableFilter:e.marvel.enableFilter}}),(function(e){return{appActions:Object(p.b)(n,e)}}))(ra);t(503);var ca=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(na,null),o.a.createElement("div",{className:"App-content"},o.a.createElement(_.a,{basename:"/"},o.a.createElement(C.c,null,o.a.createElement(C.a,{path:"/",exact:!0,component:Oe}),o.a.createElement(C.a,{path:"/:id",component:Ge})))))},oa=(t(504),Object(p.e)(b,g(Object(p.a)(h.a)))),ia=Object(l.a)({palette:{primary:{500:de.a.primaryColor}}});Object(i.render)(o.a.createElement(s.a,{store:oa},o.a.createElement(u.a,{theme:ia},o.a.createElement(ca,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[262,1,2]]]);
//# sourceMappingURL=main.846e272a.chunk.js.map